<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="styles.css">
    <title>Russ Yatsenko's web project for CSC 131 class</title>
    <script src="ryscript.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  </head>
  <body>
    <div class="ry-container">
      <img src="images/banner.webp" alt="banner" />
      <div class="ry-centered ry-banner-text">FOR SALE</div>
    </div>
    <div class="ry-article">
      <div class="ry-grid">
        <div class="ry-image-block">
          <img src="images/bmw-x3.webp" />
        </div>
        <div class="ry-specs-block">
          <h1 class="ry-item-title">2013 BMW X3 35iDrive M Sport</h1>
          <p>8-Speed Automatic Blue 19/26 City/Highway MPG 8-Speed Automatic. 3.0L I6 DOHC 24V TwinPower Turbo Odometer is 23855 miles below market average! CARFAX One-Owner. Clean CARFAX. Reviews: * Strong performance and fuel economy from any of its available engines, high-quality cabin feels luxurious, generous passenger and cargo room for the segment, responsive handling bettered only by pricier sport-tuned rivals, top-notch crash-test scores. Source: Edmunds * Distinctive styling for a sedan of its size, excellent performance with either engine option, modern interior design trimmed with excellent materials, newly updated tech interface is easier to use. Source: Edmunds * Exceptionally powerful engine and an optional package that makes even more power, slick dual-clutch automatic transmission with quick shifts, richly trimmed and well-equipped interior, impressively supportive and comfortable front seats.
          <h3>Specs:</h3>
          <ul>
            <li>Body: SUV</li>
            <li>Seats: 5</li>
            <li>Doors: 5</li>
            <li>Color: blue</li>
          </ul>
          <h3>Price:</h3>
          <!-- The Google OAuth starts here -->
          <script>
            var GoogleAuth;
            var SCOPE = 'https://www.googleapis.com/auth/drive.metadata.readonly';
            function handleClientLoad() {
              // Load the API's client and auth2 modules.
              // Call the initClient function after the modules load.
              gapi.load('client:auth2', initClient);
            }
          
            function initClient() {
              // Retrieve the discovery document for version 3 of Google Drive API.
              // In practice, your app can retrieve one or more discovery documents.
              var discoveryUrl = 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest';
          
              // Initialize the gapi.client object, which app uses to make API requests.
              // Get API key and client ID from API Console.
              // 'scope' field specifies space-delimited list of access scopes.
              gapi.client.init({
                  'apiKey': 'AIzaSyAsrxRS0h5Rzh7mUBZkF6JY1lMCbeuwD8o',
                  'discoveryDocs': [discoveryUrl],
                  'clientId': '82852357315-797ea3r5oervp1o34jlng08b19vm6v54.apps.googleusercontent.com',
                  'scope': SCOPE
              }).then(function () {
                GoogleAuth = gapi.auth2.getAuthInstance();
          
                // Listen for sign-in state changes.
                GoogleAuth.isSignedIn.listen(updateSigninStatus);
          
                // Handle initial sign-in state. (Determine if user is already signed in.)
                var user = GoogleAuth.currentUser.get();
                setSigninStatus();
          
                // Call handleAuthClick function when user clicks on
                //      "Sign In/Authorize" button.
                $('#sign-in-or-out-button').click(function() {
                  handleAuthClick();
                }); 
                $('#revoke-access-button').click(function() {
                  revokeAccess();
                }); 
              });
            }
          
            function handleAuthClick() {
              if (GoogleAuth.isSignedIn.get()) {
                // User is authorized and has clicked 'Sign out' button.
                GoogleAuth.signOut();
              } else {
                // User is not signed in. Start Google auth flow.
                GoogleAuth.signIn();
              }
            }
          
            function revokeAccess() {
              GoogleAuth.disconnect();
            }
          
            function setSigninStatus(isSignedIn) {
              var user = GoogleAuth.currentUser.get();
              var isAuthorized = user.hasGrantedScopes(SCOPE);
              if (isAuthorized) {
                $('#sign-in-or-out-button').html('Sign out');
                $('#sign-in-or-out-button').css('display', 'none');
                $('#revoke-access-button').css('display', 'none');
                $('#auth-status').html('$15,000.00 \n You are currently signed in and have granted ' +
                    'access to this app.');
                $('#auth-status').css('font-size', '18px');
              } else {
                $('#sign-in-or-out-button').html('Sign In');
                $('#revoke-access-button').css('display', 'none');
                $('#auth-status').html('You have not authorized this app or you are ' +
                    'signed out.' + 
                    '\nSign In to see the price.');
              }
            }
          
            function updateSigninStatus(isSignedIn) {
              setSigninStatus();
            }
          </script>
          
          <button id="sign-in-or-out-button"
                  style="margin-left: 25px">Sign In</button>
          <button id="revoke-access-button"
                  style="display: none; margin-left: 25px">Revoke access</button>
          
          <div id="auth-status"></div>
          
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
          <script async defer src="https://apis.google.com/js/api.js" 
                  onload="this.onload=function(){};handleClientLoad()" 
                  onreadystatechange="if (this.readyState === 'complete') this.onload()">
          </script>
<!-- The Google OAuth ends here  -->
        </div>
      </div>
    </div>

  </body>
  <footer>
    <p>(c) Russ Yatsenko</p>
  </footer>
</html>
